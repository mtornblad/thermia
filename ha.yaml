modbus:
  - name: "thermia_hub"
    type: serial
    # VIKTIGT: Byt ut mot din USB-ports sökväg
    port: /dev/serial/by-id/usb-DIN_STICKA_HÄR
    baudrate: 9600
    bytesize: 8
    method: rtu
    parity: N
    stopbits: 1
    
    sensors:
      # --- Temperaturer (Rådata från Thermia) ---
      - name: "Thermia Raw Outdoor"
        unique_id: thermia_raw_000
        slave: 10
        address: 0
        data_type: int16
        unit_of_measurement: "°C"
        scan_interval: 60

      - name: "Thermia Raw Indoor Disp"
        unique_id: thermia_raw_001
        slave: 10
        address: 1
        data_type: int16
        scan_interval: 60
        
      - name: "Thermia Raw Indoor Dec"
        unique_id: thermia_raw_002
        slave: 10
        address: 2
        data_type: int16
        scan_interval: 60

      - name: "Thermia Raw Supply Line"
        unique_id: thermia_raw_005
        slave: 10
        address: 5
        data_type: int16
        unit_of_measurement: "°C"

      - name: "Thermia Raw Return Line"
        unique_id: thermia_raw_006
        slave: 10
        address: 6
        data_type: int16
        unit_of_measurement: "°C"

      - name: "Thermia Raw Hotwater"
        unique_id: thermia_raw_007
        slave: 10
        address: 7
        data_type: int16
        unit_of_measurement: "°C"
        
      - name: "Thermia Raw Integral"
        unique_id: thermia_raw_025
        slave: 10
        address: 25
        data_type: int16

      # --- Status Register (Bitmap) ---
      - name: "Thermia Raw Status 16"
        unique_id: thermia_raw_016
        slave: 10
        address: 16
        data_type: int16
        scan_interval: 10

      # --- Externa Sensorer (DS18B20) ---
      # Mappade till Register 1000-1004
      - name: "Thermia Extra Sensor 1"
        unique_id: thermia_ds18b20_1
        slave: 10
        address: 1000
        data_type: int16
        scale: 0.01
        unit_of_measurement: "°C"
        precision: 2

      - name: "Thermia Extra Sensor 2"
        unique_id: thermia_ds18b20_2
        slave: 10
        address: 1001
        data_type: int16
        scale: 0.01
        unit_of_measurement: "°C"
        precision: 2

      - name: "Thermia Extra Sensor 3"
        unique_id: thermia_ds18b20_3
        slave: 10
        address: 1002
        data_type: int16
        scale: 0.01
        unit_of_measurement: "°C"
        precision: 2
        
    # --- Skrivbara Register (Styrning) ---
    numbers:
      - name: "Thermia Raw Kurva"
        unique_id: thermia_write_curve
        slave: 10
        address: 52
        data_type: int16
        min_value: 20
        max_value: 60
        mode: box
        
      - name: "Thermia Raw Rum Börvärde"
        unique_id: thermia_write_room
        slave: 10
        address: 50
        data_type: int16
        min_value: 10
        max_value: 30
        mode: box